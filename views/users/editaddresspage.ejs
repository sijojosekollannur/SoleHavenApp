<style>
    body {
        background-color: #f8f9fa;
        padding-top: 70px;
    }
    .container {
        margin-top: 50px;
        margin-bottom: 40px;
        max-width: 600px;
        background: #fff;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }
    .form-group label {
        font-weight: bold;
    }
    .btn-custom {
        background-color: #007bff;
        color: #fff;
    }
</style>

<div class="container">
    <h1 class="text-center">Edit Address</h1>
    <form id="editAddressForm" action="/users/<%= user._id %>/addresses/<%= address._id %>/edit" method="POST">
        <div class="form-group">
            <label for="fullName">Full Name</label>
            <input type="text" id="fullName" name="fullName" class="form-control" value="<%= address.fullName %>" >
            <div id="fullNameError" class="invalid-feedback">Full Name is required.</div>
        </div>
        <div class="form-group">
            <label for="addressLine1">Address Line 1</label>
            <input type="text" id="addressLine1" name="addressLine1" class="form-control" value="<%= address.addressLine1 %>" >
            <div id="addressLine1Error" class="invalid-feedback">Address Line 1 is required.</div>
        </div>
        <div class="form-group">
            <label for="addressLine2">Address Line 2</label>
            <input type="text" id="addressLine2" name="addressLine2" class="form-control" value="<%= address.addressLine2 %>">
        </div>
        <div class="form-row">
            <div class="form-group col-md-6">
                <label for="city">City</label>
                <input type="text" id="city" name="city" class="form-control" value="<%= address.city %>" >
                <div id="cityError" class="invalid-feedback">City is required.</div>
            </div>
            <div class="form-group col-md-6">
                <label for="state">State</label>
                <input type="text" id="state" name="state" class="form-control" value="<%= address.state %>">
                <div id="stateError" class="invalid-feedback">State is required.</div>
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-6">
                <label for="zipCode">Zip Code</label>
                <input type="text" id="zipCode" name="zipCode" class="form-control" value="<%= address.zipCode %>">
                <div id="zipCodeError" class="invalid-feedback">Zip Code is required.</div>
            </div>
            <div class="form-group col-md-6">
                <label for="country">Country</label>
                <input type="text" id="country" name="country" class="form-control" value="<%= address.country %>" >
                <div id="countryError" class="invalid-feedback">Country is required.</div>
            </div>
        </div>
        <div class="form-group">
            <label for="mobileNumber">Mobile Number</label>
            <input type="text" id="mobileNumber" name="mobileNumber" class="form-control" value="<%= address.mobileNumber %>" >
            <div id="mobileNumberError" class="invalid-feedback">Mobile Number is required.</div>
        </div>
        <div class="form-group text-center">
            <button type="submit" class="btn btn-custom">Save Changes</button>
        </div>
    </form>
</div>

<script>
    document.getElementById('editAddressForm').addEventListener('submit', function(event) {
        const fullName = document.getElementById('fullName').value.trim();
        const addressLine1 = document.getElementById('addressLine1').value.trim();
        const city = document.getElementById('city').value.trim();
        const state = document.getElementById('state').value.trim();
        const zipCode = document.getElementById('zipCode').value.trim();
        const country = document.getElementById('country').value.trim();
        const mobileNumber = document.getElementById('mobileNumber').value.trim();

        let isValid = true;

        // Validate Full Name
        if (fullName === '') {
            isValid = false;
            document.getElementById('fullName').classList.add('is-invalid');
            document.getElementById('fullNameError').textContent = 'Full Name is required.';
        } else {
            document.getElementById('fullName').classList.remove('is-invalid');
            document.getElementById('fullNameError').textContent = '';
        }

        // Validate Address Line 1
        if (addressLine1 === '') {
            isValid = false;
            document.getElementById('addressLine1').classList.add('is-invalid');
            document.getElementById('addressLine1Error').textContent = 'Address Line 1 is required.';
        } else {
            document.getElementById('addressLine1').classList.remove('is-invalid');
            document.getElementById('addressLine1Error').textContent = '';
        }

        // Validate City
        if (city === '') {
            isValid = false;
            document.getElementById('city').classList.add('is-invalid');
            document.getElementById('cityError').textContent = 'City is required.';
        } else {
            document.getElementById('city').classList.remove('is-invalid');
            document.getElementById('cityError').textContent = '';
        }

        // Validate State
        if (state === '') {
            isValid = false;
            document.getElementById('state').classList.add('is-invalid');
            document.getElementById('stateError').textContent = 'State is required.';
        } else {
            document.getElementById('state').classList.remove('is-invalid');
            document.getElementById('stateError').textContent = '';
        }

        // Validate Zip Code
        if (zipCode === '') {
            isValid = false;
            document.getElementById('zipCode').classList.add('is-invalid');
            document.getElementById('zipCodeError').textContent = 'Zip Code is required.';
        } else {
            document.getElementById('zipCode').classList.remove('is-invalid');
            document.getElementById('zipCodeError').textContent = '';
        }

        // Validate Country
        if (country === '') {
            isValid = false;
            document.getElementById('country').classList.add('is-invalid');
            document.getElementById('countryError').textContent = 'Country is required.';
        } else {
            document.getElementById('country').classList.remove('is-invalid');
            document.getElementById('countryError').textContent = '';
        }

        // Validate Mobile Number
        if (mobileNumber === '') {
            isValid = false;
            document.getElementById('mobileNumber').classList.add('is-invalid');
            document.getElementById('mobileNumberError').textContent = 'Mobile Number is required.';
        } else {
            document.getElementById('mobileNumber').classList.remove('is-invalid');
            document.getElementById('mobileNumberError').textContent = '';
        }

        if (!isValid) {
            event.preventDefault(); // Prevent form submission if validation fails
        }
    });
</script>
